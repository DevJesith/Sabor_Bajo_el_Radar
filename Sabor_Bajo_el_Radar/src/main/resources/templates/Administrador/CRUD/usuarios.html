<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Gestión de Usuarios</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link th:href="@{/css/administrador/profile_admin.css}" rel="stylesheet"/>
</head>
<body>

<!-- Botón ☰ para abrir el menú -->
<button id="menuBtn" class="btn btn-primary" onclick="openSidebar()">☰</button>

<!-- Menú lateral -->
<div id="sidebar" class="p-3">
    <button id="closeBtn" onclick="closeSidebar()">✖</button>
    <h4 class="mt-4">Panel de administrador</h4>
    <ul class="nav flex-column mt-3">
        <li class="nav-item"><a class="nav-link" th:href="@{/cliente}">Inicio</a></li>
        <li class="nav-item"><a class="nav-link" th:href="@{/dashboard/admin}">Dashboard</a></li>
        <li class="nav-item"><a class="nav-link" th:href="@{/usuarios/lista}">Usuarios</a></li>
        <li class="nav-item"><a class="nav-link" th:href="@{/correo-masivos}">Correos masivos</a></li>
    </ul>
</div>
<div class="container mt-5">
    <h2 class="mb-4">Usuarios registrados</h2>
    <a class="btn btn-success mb-3" href="/usuarios/nuevo">Crear nuevo usuario</a>
    <table class="table table-bordered table-hover">
        <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Correo</th>
            <th>Documento</th>
            <th>Teléfono</th>
            <th>Rol</th>
            <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="usuario : ${usuarios}">
            <td th:text="${usuario.id}"></td>
            <td th:text="|${usuario.nombres} ${usuario.apellidos}|"></td>
            <td th:text="${usuario.correo}"></td>
            <td th:text="${usuario.documento}"></td>
            <td th:text="${usuario.telefono}"></td>
            <td th:text="${usuario.rol?.nombre}"></td>
            <td>
                <a class="btn btn-primary btn-sm" th:href="@{'/usuarios/editar/' + ${usuario.id}}">Editar</a>
                <a class="btn btn-danger btn-sm" th:href="@{'/usuarios/eliminar/' + ${usuario.id}}"
                   onclick="return confirm('¿Estás seguro de eliminar este usuario?')">Eliminar</a>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<script th:src="@{/js/admin/profile_admin_custom.js}"></script>

</body>
</html>